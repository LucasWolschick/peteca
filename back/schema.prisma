datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:saxrto32@127.0.0.1:5432/peteca"

}

generator client {
  provider = "prisma-client-js"
}

model User {
  id Int @id @default(autoincrement())
  ingresso DateTime @db.Date
  nome String @db.VarChar()
  ra String? @db.VarChar()
  matricula String? @db.VarChar()
  email String @unique @db.VarChar()
  verificado Boolean
  senha String @db.VarChar()
  admin Boolean
  data_nascimento DateTime @db.Date
  imagem String @db.VarChar

  token Token?
  permissoes UserPermissoes[]
}

model Permissoes {
  id Int @id @default(autoincrement())
  nome String @db.VarChar()

  users UserPermissoes[]
}

model UserPermissoes {
  user User @relation(fields: [userId], references: [id])
  userId Int
  permissao Permissoes @relation(fields: [permissaoId], references: [id])
  permissaoId Int

  @@id([userId, permissaoId])
}

model Token {
  id Int @id @default(autoincrement())
  date DateTime @default(now())

  user User @relation(fields: [userId], references: [id])
  userId Int @unique
}